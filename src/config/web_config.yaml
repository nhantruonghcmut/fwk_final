web:
  platform: "web"
  
  parallel:
    enabled: true
    workers: 2  # Override for web
    distribution: "load"  # Web không cần group
  
  browsers:
    default: ["chromium", "firefox"]
    
    chromium:
      headless: false
      slow_mo: 0
      args:
        - "--disable-blink-features=AutomationControlled"
    
    firefox:
      headless: false
      slow_mo: 0
  
  timeouts:
    default: 30000
    page_load: 30000
    navigation: 30000
  
  retry:
    count: 3
    delay: 1000
  
  # Browser context configuration (Playwright specific)
  context:
    viewport:
      width: 1920
      height: 1080
    user_agent: "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36"
    locale: "en-US"
    timezone_id: "America/New_York"
    permissions: ["geolocation", "notifications"]
    extra_http_headers:
      Accept-Language: "en-US,en;q=0.9"
  
  # Playwright tracing configuration
  playwright:
    trace:
      enabled: true
      on_failure: true  # Lưu trace.zip khi test fail
      on_success: false  # Lưu trace.zip khi test pass (có thể bật để debug)
      directory: "reports/traces"
      screenshots: true  # Include screenshots in trace
      snapshots: true  # Include DOM snapshots in trace
      sources: true  # Include source files in trace